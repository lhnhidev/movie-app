import{u as x,j as a,a as D}from"./index-DbIC7rXo.js";import{B as y,A as L}from"./ActorList-nOSsBQ34.js";import{u as k}from"./MovieCard-DT18uTLr.js";import"./useModalContext-DdEkQwwD.js";import"./RelatedMediaList-CVDA70y9.js";function E(){var s,c,d,n,g,p,_;const{id:i}=x(),{data:e,isLoading:j}=k({url:`tv/${i}?append_to_response=content_ratings,aggregate_credits,videos`}),l=((c=(((s=e==null?void 0:e.content_ratings)==null?void 0:s.results)||[]).find(r=>(r==null?void 0:r.iso_3166_1)==="US"))==null?void 0:c.rating)||"G";if(j)return a.jsx(D,{text:"Loading..."});const b=(n=(d=e==null?void 0:e.aggregate_credits)==null?void 0:d.crew)==null?void 0:n.filter(r=>r.jobs.find(t=>t.job==="Director"||t.job==="Writer")).reduce((r,t)=>{var m;const o={name:t.name,department:((m=t.jobs.find(u=>u.job==="Director"||u.job==="Writer"))==null?void 0:m.job)==="Director"?"Directing":"Writing"};return[...r,o]},[]);return a.jsxs(a.Fragment,{children:[a.jsx(y,{backdrop_path:e==null?void 0:e.backdrop_path,title:e==null?void 0:e.name,poster_path:e==null?void 0:e.poster_path,release_date:e==null?void 0:e.release_date,genres:e==null?void 0:e.genres,vote_average:e==null?void 0:e.vote_average,overview:e==null?void 0:e.overview,certification:l,crew:b,trailerVideoKey:(p=(((g=e.videos)==null?void 0:g.results)||[]).find(r=>r.type==="Trailer"))==null?void 0:p.key}),a.jsx(L,{movieInfo:e,actors:((_=e==null?void 0:e.aggregate_credits)==null?void 0:_.cast)||[],id:i,type:"tv"})]})}export{E as default};
