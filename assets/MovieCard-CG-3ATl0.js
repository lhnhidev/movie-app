import{r as c,j as t,L as m}from"./index-rxCx3KDl.js";function h({src:r,alt:a="image",aspect:e="2/3",width:n=void 0,height:s=void 0,className:i}){const[l,x]=c.useState("/2x3.svg"),[o,u]=c.useState(!0);return c.useEffect(()=>{const d=new Image;if(!r.includes("null")){d.src=r,d.onload=()=>{x(d.src),u(!1)};return}return x("/actor_no_image.svg"),u(!1),()=>d.onload=null},[r]),t.jsx("div",{className:e?`aspect-[${e}] w-full`:"w-full",children:t.jsx("img",{className:`transition-opacity duration-700 ease-in-out ${i} ${o?"opacity-30 blur-md":"opacity-100"} `,src:l,alt:a,width:n??"",height:s??""})})}const p={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MDc2OGExMTZkMTA2ZDgwNWI0NjdiYzVmYTcwN2UwZSIsIm5iZiI6MTc0NTg1NzYzOC41NDMsInN1YiI6IjY4MGZhYzY2YTkwYWNhZjZlZWVhZTBmMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.qfLXEhFU67ZpVdb4mPiYW0PWFZhUopzjGpeGWATHSOI"};function j({url:r="",method:a="GET",header:e={}},{enable:n}={enable:!0}){const[s,i]=c.useState({}),[l,x]=c.useState(!1);return c.useEffect(()=>{n&&(x(!0),fetch(`https://api.themoviedb.org/3/${r}`,{method:a,headers:{...p,...e}}).then(o=>o.json()).then(o=>{i(o)}).catch(o=>console.error(o)).finally(()=>{x(!1)}))},[JSON.stringify(e),a,r,n]),{data:s,isLoading:l}}function g({percent:r=85,size:a=50,strokeWidth:e=5,strokeColor:n="green"}){const s=a/2-e,i=2*Math.PI*s,l=i-r/100*i;return t.jsx("div",{children:t.jsxs("svg",{width:`${a}px`,height:`${a}px`,children:[t.jsx("circle",{r:s,cx:s+e,cy:s+e,stroke:"white",strokeWidth:e}),t.jsx("circle",{r:s,cx:s+e,cy:s+e,fill:"none",stroke:n,strokeWidth:e,strokeDasharray:i,strokeDashoffset:l,strokeLinecap:"round",transform:"rotate(-90)",style:{transformOrigin:"center"}}),t.jsx("text",{fontSize:"12px",fill:"white",x:s+e,y:s+e,alignmentBaseline:"middle",textAnchor:"middle",children:r})]})})}function I({id:r,poster:a,title:e,point:n,date:s,mediaType:i}){return t.jsx(m,{to:i==="tv"?`/tv/${r}`:`/movie/${r}`,className:"rounded-lg border border-slate-800",children:t.jsxs("div",{className:"relative",children:[i==="tv"&&t.jsx("p",{className:"absolute right-2 top-2 rounded bg-slate-800/80 p-1 text-lg text-white shadow-sm",children:"Tv show"}),t.jsx(h,{src:`https://image.tmdb.org/t/p/original${a}`,alt:`poster_${e}`,className:"w-full rounded-t-lg"}),t.jsxs("div",{className:"relative top-[-20px] px-3 min-[768px]:px-6",children:[t.jsx("div",{className:"mb-4",children:t.jsx(g,{size:40,strokeWidth:3,percent:n.toFixed(1)*10,strokeColor:n>=7?"green":n>=5?"orange":"red"})}),t.jsx("p",{className:"mt-2 text-[14px] font-bold min-[480px]:text-[16px]",children:e}),t.jsx("p",{className:"text-[12px] text-slate-500",children:s})]})]})})}export{g as C,h as I,I as M,j as u};
